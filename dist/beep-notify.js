"use strict";function x(n="bottom-right"){let e=document.querySelector(`.beep-container[data-position="${n}"]`);if(!e){switch(e=document.createElement("div"),e.className="beep-container",e.setAttribute("data-position",n),e.style.zIndex="9999",n){case"top-right":e.style.top="1rem",e.style.right="2rem";break;case"top-left":e.style.top="1rem",e.style.left="2rem";break;case"bottom-right":e.style.bottom="1rem",e.style.right="2rem";break;case"bottom-left":e.style.bottom="1rem",e.style.left="2rem";break;case"top-center":e.style.top="1rem",e.style.left="50%",e.style.transform="translateX(-50%)";break;case"bottom-center":e.style.bottom="1rem",e.style.left="50%",e.style.transform="translateX(-50%)";break}const c=e;c.addEventListener("touchstart",()=>{c.classList.add("touch-hover")}),c.addEventListener("touchend",()=>{c.classList.remove("touch-hover")}),document.body.appendChild(e)}return e}function k(n=!0){if(!n)return;new Audio("/sounds/beep1.m4a").play().catch(c=>console.error("Error al reproducir el sonido:",c))}function I({message:n,type:e="info",position:c="bottom-right",duration:p=null,sound:E=!1,options:d}){const L={success:"var(--color-border-success)",error:"var(--color-border-error)",info:"var(--color-border-info)",warning:"var(--color-border-warning)",danger:"var(--color-border-danger)"},b=x(c),C=b.style.top&&b.style.top!==""?"top":"bottom",t=document.createElement("div");t.className=`beep-notification ${e} ${C}`,t.style.borderLeft=`7px solid ${L[e]||"#000000"}`,t.style.pointerEvents="auto";const m=document.createElement("div");m.className="beep-inner";const u=document.createElement("span");u.className="beep-icon",u.innerHTML=N(e);const v=document.createElement("div");if(v.className="beep-text",d?.closeButton){const h=document.createElement("span");h.className="beep-close",h.innerHTML="x",h.addEventListener("click",()=>{t.classList.add("fade-out"),t.addEventListener("animationend",()=>t.remove(),{once:!0})}),m.appendChild(h)}d&&d.html?v.innerHTML=n:v.textContent=n,m.appendChild(u),m.appendChild(v),t.appendChild(m),b.appendChild(t),E&&k();let o,a,l=p??0,r=p??0,s=0,f,w,y;if(p!=null){let h=function(){a=Date.now(),o=setTimeout(()=>{t.classList.add("fade-out"),t.addEventListener("animationend",()=>t.remove(),{once:!0})},l),d?.showProgressBar&&(f=document.createElement("div"),f.className="beep-progress",f.style.width="100%",t.appendChild(f),w=setInterval(()=>{const i=s+(Date.now()-a),g=Math.max(0,(r-i)/r*100);f.style.width=g+"%"},50),y=setInterval(()=>{const i=s+(Date.now()-a);Math.max(0,r-i)<=0&&clearInterval(y)},100))},T=function(){clearTimeout(o),clearInterval(w),clearInterval(y);const i=Date.now()-a;s+=i,l-=i},B=function(){a=Date.now(),o=setTimeout(()=>{t.classList.add("fade-out"),t.addEventListener("animationend",()=>t.remove(),{once:!0})},l),d?.showProgressBar&&(w=setInterval(()=>{const i=s+(Date.now()-a),g=Math.max(0,(r-i)/r*100);f.style.width=g+"%"},50),y=setInterval(()=>{const i=s+(Date.now()-a);Math.max(0,r-i)<=0&&clearInterval(y)},100))};h(),d?.stopOnHover&&(t.addEventListener("mouseenter",T),t.addEventListener("mouseleave",B))}}function N(n){switch(n){case"success":return'<svg style="color:#65a30d" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg>';case"error":case"danger":return'<svg style="color:#dc2626" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 6l12 12M6 18L18 6"/></svg>';case"info":return'<svg style="color:#0284c7" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><circle cx="12" cy="8" r="1" fill="currentColor"/></svg>';case"warning":return'<svg style="color:#ea580c" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 22h20L12 2z"/><line x1="12" y1="8" x2="12" y2="14"/><circle cx="12" cy="18" r="1" fill="currentColor"/></svg>';default:return""}}function M({message:n,type:e="info",position:c="bottom-right",duration:p,acceptText:E="Aceptar",rejectText:d="Cancelar",html:L=!1,options:b,onAccept:C=()=>{},onReject:t=()=>{},onTimeout:m=()=>{}}){const u=x(c),v=u.style.bottom&&u.style.bottom!==""?"top":"bottom",o=document.createElement("div");o.className=`beep-notification ${e} ${v}`;const a=document.createElement("div");L?a.innerHTML=n:a.textContent=n,o.appendChild(a);const l=document.createElement("div");l.className="beep-actions";const r=document.createElement("button");r.textContent=E,r.className="beep-accept";const s=document.createElement("button");s.textContent=d,s.className="beep-reject",b?.reverseButtons?(l.appendChild(r),l.appendChild(s)):(l.appendChild(s),l.appendChild(r)),o.appendChild(l),u.appendChild(o),r.addEventListener("click",()=>{o.remove(),C()}),s.addEventListener("click",()=>{o.remove(),t()}),p&&setTimeout(()=>{o.classList.add("fade-out"),o.addEventListener("animationend",()=>o.remove(),{once:!0}),m()},p)}const D={toast:I,action:M,playSound:k};module.exports=D;
